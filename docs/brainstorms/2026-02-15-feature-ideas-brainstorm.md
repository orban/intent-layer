# Intent Layer Feature Ideas Brainstorm

**Date**: 2026-02-15
**Method**: 4-agent parallel swarm (DX, Ecosystem, Intelligence, Scale)
**Total ideas generated**: 32 (deduplicated to 26)

---

## What We're Building

A ranked catalog of next features for the Intent Layer plugin, organized by feasibility and usefulness. Ideas were generated by four independent brainstorming agents, each exploring a different angle, then merged and ranked.

## Ranking Method

Each idea scored on two axes (1-3 scale):
- **Feasibility**: 3 = small effort, builds on existing scripts; 2 = medium effort, new but straightforward; 1 = large effort, significant new infrastructure
- **Usefulness**: 3 = high impact, solves a real pain point; 2 = medium impact, nice-to-have; 1 = low impact, niche

**Composite score** = Feasibility x Usefulness (max 9). Ties broken by: leverages existing infra > immediate payoff > broader audience.

---

## Tier 1: High Priority (Score 6+, strong leverage)

### 1. Cursorrules / Tool Adapter Generator
- **Score**: 9 (feasibility 3, usefulness 3)
- **Source**: Ecosystem agent
- **Problem**: Cursor, Windsurf, Aider, and other AI tools use their own context formats (.cursorrules, etc.). Teams using Intent Layer must manually duplicate context.
- **Solution**: Script (`generate_cursorrules.sh`) that flattens Intent Layer hierarchy into tool-specific formats. Run on-demand or via git hook to keep in sync.
- **Why top-ranked**: Tiny effort, reuses existing `resolve_context.sh`, dramatically expands reach beyond Claude Code.

### 2. MCP Context Server
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Ecosystem agent
- **Problem**: LLM tools using Model Context Protocol can't automatically discover and use Intent Layer context.
- **Solution**: MCP server exposing `read_intent(path)` (returns ancestor chain), `search_intent(query)` (finds relevant nodes), `report_learning(...)` (queues feedback). Works with any MCP client.
- **Why high-ranked**: MCP is becoming the standard protocol. Intent Layer already has the read/write protocol; MCP wraps it.

### 3. Context Relevance Telemetry
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Intelligence agent (overlaps with DX "Live Accuracy Monitor")
- **Problem**: No signal on whether AGENTS.md files actually help. Are agents reading them? Are they reducing errors?
- **Solution**: Track which AGENTS.md nodes were injected before each tool call via hooks. Correlate with tool success/failure rates. Monthly report: "auth/AGENTS.md loaded 47 times, 12% failure rate (vs 23% baseline)."
- **Why high-ranked**: Closes the measurement gap. Makes the value of Intent Layer concrete and visible.

### 4. Diff-to-Intent Suggester
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: DX agent
- **Problem**: After a PR/merge, it's manual work to figure out what to update in AGENTS.md. `detect_changes.sh` finds affected nodes but doesn't suggest what to add.
- **Solution**: Scan diffs and use Haiku to suggest specific additions: "This commit added retry logic -> suggest adding to Patterns." Reviewable suggestions, not auto-commits.
- **Why high-ranked**: Turns passive "you should update" into active "here's what to add." Builds on existing detect_changes.sh.

### 5. Templates Marketplace
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Scale agent
- **Problem**: New users face blank-page syndrome. They don't know what a good AGENTS.md looks like for their tech stack.
- **Solution**: Curated library of Intent Layer starters ("Next.js SaaS", "Python ML Pipeline", "Go Microservices") installable via `/intent-layer --template nextjs-saas`. Pre-written root nodes, common child structures, domain-specific pitfalls.
- **Why high-ranked**: Directly addresses the #1 adoption barrier.

### 6. Import from Existing Docs
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Scale agent
- **Problem**: Teams already have README.md files, Notion wikis, Confluence pages. Rewriting everything in AGENTS.md format is a non-starter.
- **Solution**: `/intent-layer-import --from readme` uses Claude to convert existing docs into Intent Layer format. Preserves structure, extracts contracts/pitfalls, proposes token-budgeted hierarchy.
- **Why high-ranked**: Removes the "rewrite tax" that blocks adoption for existing projects.

### 7. Pre-Commit Boundary Enforcer
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: Ecosystem agent
- **Problem**: "Never Edit" boundaries in AGENTS.md are advisory. Nothing stops commits to protected files until PR review.
- **Solution**: Git pre-commit hook that blocks commits touching Never Edit paths, shows Ask First warnings. Optional bypass with `--no-verify`.
- **Why high-ranked**: Small script, big payoff for teams that rely on boundaries.

### 8. Predictive Staleness Scoring
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: Intelligence agent
- **Problem**: Current staleness detection is binary. Doesn't predict which nodes are about to become stale based on change velocity.
- **Solution**: Track edit frequency per directory over time. Assign staleness risk scores (0-100) based on recent acceleration. Surface top 5 high-risk nodes weekly.
- **Why high-ranked**: Extends existing `detect_staleness.sh` with minimal new code.

### 9. Auto-Permission Inference
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: Intelligence agent
- **Problem**: Writing Always/Ask First/Never sections requires guessing. Gets stale as codebase matures.
- **Solution**: Analyze git history for files that never get touched vs. touched by everyone. Auto-suggest permission tiers. Example: "migrations/ has 0 edits in 6 months -> suggest 'Ask First'."
- **Why high-ranked**: Pure git analysis, no external deps. Helps write better Boundaries sections.

### 10. Smart Contract Auto-Sync
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: Intelligence agent
- **Problem**: Contracts section is manually written. Drifts from actual linter/formatter config.
- **Solution**: Parse `.eslintrc`, `.prettierrc`, `pyproject.toml` and auto-generate Contracts entries. Diff against current text, suggest updates.
- **Why high-ranked**: Deterministic (no LLM needed), keeps Contracts grounded in reality.

---

## Tier 2: Medium Priority (Score 4-6, solid but less leverage)

### 11. Staleness Heat Map
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: DX agent (overlaps with Scale "Drift Detection Dashboard")
- **Problem**: No big-picture view of which areas are well-documented vs. abandoned.
- **Solution**: ASCII/HTML heat map of all nodes color-coded by age. Green (<30d), yellow (30-90d), red (>90d). Extends `show_hierarchy.sh`.

### 12. GitHub Action: Auto-Suggest Node Updates
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: Ecosystem agent
- **Problem**: PRs that change covered areas don't trigger Intent Layer update reminders.
- **Solution**: GitHub Action runs `detect_changes.sh` on PR, posts comment with affected nodes and pre-filled capture template.

### 13. Onboarding Buddy Mode
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: DX agent
- **Problem**: `/intent-layer-onboarding` generates static docs. Real value is interactive Q&A.
- **Solution**: Extend `query_intent.sh` to return AGENTS.md excerpts + specific files + git blame context for "who wrote this."

### 14. Learning Loop Digest
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: DX agent
- **Problem**: Pending mistakes pile up. No periodic nudge.
- **Solution**: `generate_digest.sh` for cron/CI: weekly summary of pending learnings, stale nodes, high-value pitfalls. Output as markdown for Slack/email.

### 15. Pre-flight Check Validator
- **Score**: 6 (feasibility 3, usefulness 2)
- **Source**: DX agent
- **Problem**: Pre-flight Checks in AGENTS.md are freeform text, not executable.
- **Solution**: Parse code blocks from Checks section, attempt dry-run execution. Flag checks that can't be run.

### 16. Mistake Pattern Clustering
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Intelligence agent
- **Problem**: Same mistakes happen across directories but get reported individually.
- **Solution**: Text similarity analysis on mistakes to group related reports. Surface clusters with >3 instances for bulk resolution.

### 17. Team Sync Mode
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Scale agent
- **Problem**: One developer's learned pitfalls don't reach teammates.
- **Solution**: Sync pending mistakes to shared location (git branch, S3). Weekly digest: "5 new pitfalls discovered across your team."

### 18. Auto-Capture from Test Failures
- **Score**: 6 (feasibility 2, usefulness 3)
- **Source**: Intelligence agent
- **Problem**: Test failures contain valuable context but require manual investigation.
- **Solution**: Hook that parses test output for assertion failures. Auto-generate mistake reports with test name, message, file path.

### 19. LSP Hover Provider
- **Score**: 4 (feasibility 2, usefulness 2)
- **Source**: Ecosystem agent
- **Problem**: No Intent Layer context visible while reading code in IDE.
- **Solution**: LSP extension showing covering node's pitfalls and boundaries on hover.

### 20. Drift Detection Dashboard (Web)
- **Score**: 4 (feasibility 2, usefulness 2)
- **Source**: Scale agent
- **Problem**: No web-based view of Intent Layer health.
- **Solution**: Web dashboard with per-node metrics, staleness scores, pending counts.

---

## Tier 3: Future / Large Bets (Score 1-3, high effort or niche)

### 21. Cross-Repo Intent Bridge
- **Score**: 3 (feasibility 1, usefulness 3)
- **Source**: Ecosystem agent
- **Problem**: Multi-repo projects share patterns but Intent Layer is per-repo.
- **Solution**: Reference syntax: `@repo:auth-service/src/AGENTS.md#section` loads external nodes.

### 22. Monorepo Router
- **Score**: 3 (feasibility 1, usefulness 3)
- **Source**: Scale agent
- **Problem**: 500-service monorepos exceed single root capacity.
- **Solution**: Routing layer: root lists domains with one-liners, each domain has its own subtree.

### 23. Dependency-Based Staleness Propagation
- **Score**: 3 (feasibility 1, usefulness 3)
- **Source**: Intelligence agent
- **Problem**: Core module changes don't flag dependent nodes as stale.
- **Solution**: Parse imports to build dependency graph. Propagate staleness transitively.

### 24. AGENTS.md CDN for Open Source
- **Score**: 3 (feasibility 1, usefulness 3)
- **Source**: Scale agent
- **Problem**: Everyone rebuilds the same mental model for popular libraries.
- **Solution**: Community-contributed AGENTS.md at `agents.md/npm/react/18.3.0`. DefinitelyTyped for AI context.

### 25. Documentation Site Generator
- **Score**: 2 (feasibility 1, usefulness 2)
- **Source**: Ecosystem agent
- **Problem**: AGENTS.md hard for humans to browse without opening every file.
- **Solution**: Static site generator with tree navigation, search, cross-references.

### 26. Interactive Setup Wizard (TUI)
- **Score**: 2 (feasibility 1, usefulness 2)
- **Source**: DX agent
- **Problem**: Setup requires Claude Code. No standalone path.
- **Solution**: Terminal UI wizard using `dialog` that orchestrates existing scripts.

---

## Key Decisions

1. **Tool adapter generation (#1) is the cheapest high-impact win.** A single script that flattens AGENTS.md into .cursorrules format would let every AI coding tool benefit from Intent Layer â€” not just Claude Code.

2. **Measurement before optimization.** Context Relevance Telemetry (#3) should come before smarter automation. You can't improve what you can't measure.

3. **Adoption barriers matter more than features.** Templates (#5) and Import (#6) address why people DON'T start using Intent Layer, which is more valuable than making it better for people who already use it.

4. **MCP is the strategic integration bet.** An MCP server (#2) makes Intent Layer accessible to the entire LLM tool ecosystem with a single integration point.

## Open Questions

- Should the tool adapter (#1) support multiple formats from day one, or start with just .cursorrules?
- For telemetry (#3), where should metrics be stored? Flat files in `.intent-layer/metrics/` or a lightweight SQLite DB?
- For templates (#5), should they live in the plugin repo or a separate community repo?
- Is Team Sync (#17) worth building before there's demand from actual teams?

## Next Steps

Run `/workflows:plan` to create an implementation plan for the top 3-5 features.
